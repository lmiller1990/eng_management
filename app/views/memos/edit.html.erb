<% content_for :title, "Editing memo" %>

<div class="flex justify-end items-center">
  <div class="flex gap-1">

    <%= button_to "Destroy",
          @memo,
          method: :delete,
          class: "btn btn-error btn-xs",
          data: {
            turbo_confirm: "Are you sure?",
          } %>

    <form>
      <%= link_to "Share", memo_path(@memo), class: "btn btn-info btn-xs" %>
    </form>
  </div>
</div>

<div class="w-full flex flex-col items-center">

  <%= form_with(model: @memo, class: "contents") do |form| %>
    <% if @memo.errors.any? %>
      <div
        id="error_explanation"
        class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-md mt-3"
      >
        <h2><%= pluralize(@memo.errors.count, "error") %>
          prohibited this memo from being saved:</h2>

        <ul class="list-disc ml-6">
          <% @memo.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= render "editor_form",
          form: form,
          memo: @memo,
          initial_yjs_state: @initial_yjs_state,
          autofocus: true %>

  <% end %>

</div>
